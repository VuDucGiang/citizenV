<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class = "info">
        <table id="table">
            <thead>
                <tr>
                    <th>STT</th>
                    <th>CCCD</th>
                    <th>Họ Và Tên</th>
                    <th>Ngày Sinh</th>
                    <th>Giới tính</th>
                    <th>Quê quán</th>
                    <th>Địa chỉ thường trú</th>
                    <th>Địa chỉ tạm trú</th>
                    <th>Tôn giáo</th>
                    <th>Trình độ văn hóa</th>
                    <th>Nghề nghiệp</th>
                </tr>
            </thead>
			<tbody>

			</tbody>
        </table>
    </div>

    <script>
		fetch("http://localhost/city/public/info.json")
		.then(resp => {
			if (resp.status == 200) {
				console.log(resp);
				resp.json()
				.then(ret => {
					if (ret.status == "OK") {
						tbody = document.querySelector("#table tbody");
						for (i=0; i<ret.data.length; i++) {
							let r = document.createElement('tr');
							let stt = document.createElement('td');
							stt.innerHTML = i + 1;
							let cccd = document.createElement('td');
							cccd.innerHTML = ret.data[i].cccd;
							let ten = document.createElement('td');
							ten.innerHTML = ret.data[i].ten;
							let ngaySinh = document.createElement('td');
							ngaySinh.innerHTML = ret.data[i].ngaySinh;
							let gioiTinh = document.createElement('td');
							gioiTinh.innerHTML = ret.data[i].gioiTinh;
							let queQuan = document.createElement('td');
							queQuan.innerHTML = ret.data[i].queQuan;
							let diaChiThuongTru = document.createElement('td');
							diaChiThuongTru.innerHTML = ret.data[i].diaChiThuongTru;
							let diaChiTamTru = document.createElement('td');
							diaChiTamTru.innerHTML = ret.data[i].diaChiTamTru;
							let tonGiao = document.createElement('td');
							tonGiao.innerHTML = ret.data[i].tonGiao;
							let trinhDoVanHoa = document.createElement('td');
							trinhDoVanHoa.innerHTML = ret.data[i].trinhDoVanHoa;
							let ngheNghiep = document.createElement('td');
							ngheNghiep.innerHTML = ret.data[i].ngheNghiep;
							r.appendChild(stt);
							r.appendChild(cccd);
							r.appendChild(ten);
							r.appendChild(ngaySinh);
							r.appendChild(gioiTinh);
							r.appendChild(queQuan);
							r.appendChild(diaChiThuongTru);
							r.appendChild(diaChiTamTru);
							r.appendChild(tonGiao);
							r.appendChild(trinhDoVanHoa);
							r.appendChild(ngheNghiep);
							tbody.appendChild(r);
						}
					}

				});
			}
		});
	</script>
</body>
</html>